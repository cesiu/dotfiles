% Because I'm too lazy to manage my used packages properly.


% Document Setup:
\usepackage[english]{babel}
\usepackage{fontspec}
\usepackage{lastpage}
\usepackage{epigraph}
% Figures:
\usepackage{caption}
\usepackage{framed}
\usepackage{mdframed}
\usepackage{adjustbox}
% Lists and Tables:
\usepackage{mdwlist}
\usepackage{booktabs}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{array}
\usepackage{arydshln}
% Algorithms and Code:
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\usepackage{listings}
\usepackage{cprotect}
% Math:
\usepackage{mathtools}
\usepackage{mathrsfs}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{lualatex-math}
% Drawings and Images:
\usepackage{tikz}
\usepackage{graphicx}
\usepackage{xstring}
\usepackage{xcolor}
\usepackage{pifont}
\usepackage{phaistos}
\usepackage{textgreek}
\usepackage{greek6cbc}
\usepackage{phoenician}
\usepackage{skak}
% Misc. Text Formatting:
\PassOptionsToPackage{hidelinks}{hyperref}
\usepackage{hyperref}
\usepackage{url}
\usepackage{cancel}
\usepackage{contour}
\usepackage{setspace}
\usepackage{microtype}


% Fixes older bits of Classic Thesis:
\renewcommand{\sc}{\scshape}
\setlength{\epigraphwidth}{0.5\linewidth}
\newcommand{\semiskip}{\vspace{4.5pt plus 1.5pt minus 1.5pt}}
\newcommand{\tinyskip}{\vspace{1.5pt plus 0.5pt minus 0.5pt}}
\newcommand{\zeroskip}{\vspace{0.0pt plus 0.0pt minus 0.0pt}}
\newcommand{\halfstrut}{\rule{0pt}{0.5\baselineskip}}
\newcommand{\cursor}[1]{\framebox{\halfstrut\!#1\!}}

% Fixed-width tabular columns:
\newcolumntype{C}[1]{>{\centering\arraybackslash}m{#1}}
\newcolumntype{L}[1]{>{\raggedright\arraybackslash}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\arraybackslash}m{#1}}

% More Beamer-friendly theorem blocks:
\theoremstyle{definition}\newtheorem{theorem*}{Theorem}
\theoremstyle{definition}\newtheorem{corollary*}{Corollary}
\theoremstyle{definition}\newtheorem{lemma*}{Lemma}
\theoremstyle{example}\newtheorem{excont}{Example \textit{(cont.)}}

% Additionally break URLs on hyphens:
\def\UrlBreaks{\do\/\do-}

% I like thin arrows in my propositions:
\DeclareMathOperator{\contradiction}{\rightarrow\leftarrow}
\let\implies\relax
\DeclareMathOperator{\implies}{\rightarrow}
\let\iff\relax
\DeclareMathOperator{\iff}{\leftrightarrow}
\newcommand{\fn}[2]{#1\hspace{-0.1em}\left(#2\right)}
\newcommand{\sfrac}[2]{{^{#1\hspace{-0.1em}}/_{\hspace{-0.1em}#2}}}
\newcommand{\bset}[2]{\left\{ #1 \:\left\lvert\; #2 \right.\right\}}
\newcommand{\dplus}{\mathbin{+\hspace{-0.6em}+}}
\newcommand{\np}{\mathcal{N\!P}}
\newcommand{\p}{\mathcal{P}}

% Meaningful dingbat commands:
\newcommand{\cmark}{\ding{51}}
\newcommand{\xmark}{\ding{55}}

% Extra algorithm statements:
\renewcommand{\algorithmiccomment}[1]{\hspace{2em}// #1}
\algnewcommand\Input{\item[\textbf{Input:}]}
\algnewcommand\Output{\item[\textbf{Output:}]}
\newcommand{\DPBullet}{\raisebox{0.5ex}{\hspace*{0.5em}\tiny$\bullet$\hspace*{0.7em}}}
\algnewcommand\DPDefn{\smallskip\item[\DPBullet\textit{Definition:}]}
\algnewcommand\DPBase{\smallskip\item[\DPBullet\textit{Base Cases:}]}
\algnewcommand\DPForm{\smallskip\item[\DPBullet\textit{Formula:}]}
\algnewcommand\DPSoln{\smallskip\item[\DPBullet\textit{Solution:}]}
\algnewcommand{\Let}[1]{\State{\textbf{let} #1}}
\renewcommand{\algorithmicreturn}[1]{\State{\textbf{return}#1}}
\algdef{SE}[DOWHILE]{Do}{DoWhile}{\algorithmicdo}[1]{\algorithmicwhile\ #1}
\algdef{SE}[BLOCK]{Block}{EndBlock}{}{}
\algtext*{Block}
\algtext*{EndBlock}
% Algorithm statements for plain-English-style pseudocode:
\algnewcommand{\BigLet}[1]{\State{Let #1}}
\algnewcommand{\BigRet}[1]{\State{Return #1}}
\algloopdefx{BigFor}[1]{For #1}
\algloopdefx{BigIf}[1]{If #1}
%\algcloopdefx[<new loop>]{<old block>}{<continue>}
%   [<continueparamcount>][<default value>]{<continue text>}

% Temporary variables:
\newdimen{\tempx}
\newdimen{\tempy}

% TikZ libraries:
\usetikzlibrary{
    positioning,
    calc,
    fit,
    shapes,
    shapes.multipart,
    shapes.misc,
    intersections,
    arrows,
    arrows.meta,
    backgrounds,
    patterns,
    shadings,
    decorations.pathreplacing,
    decorations.pathmorphing,
    calligraphy,
    automata,
    chains
}

% TikZ styles:
\tikzstyle{contains}=[diamond-]
\tikzstyle{implements}=[-open triangle 60, dashed]
\tikzstyle{extends}=[-open triangle 60]

% Listings settings:
\lstset{
    numbers=left,
    numberstyle=\scriptsize\ttfamily,
    basicstyle=\normalsize\ttfamily,
    basewidth=0.55em,
    upquote=true,
    frame=L,
}

% Deprecated, but some of the 225 materials from Winter '18 still use them.
%\lstdefinestyle{skippable}{
%    numberblanklines=false
%}
%\lstdefinestyle{output}{
%    moredelim = [is][\itshape]{|}{|}
%}
%\lstdefinestyle{soln}{
%    moredelim = [is][\color{red}\itshape]{|}{|}
%}
%\let\origthelstnumber\thelstnumber
%\makeatletter
%\newcommand*\SuspendNumber{
%    \lst@AddToHook{OnNewLine}{
%    \let\thelstnumber\relax
%        \advance\c@lstnumber-\@ne\relax
%    }
%}
%
%\newcommand*\ResumeNumber[1]{
%    \setcounter{lstnumber}{\numexpr#1-1\relax}
%    \lst@AddToHook{OnNewLine}{
%        \let\thelstnumber\origthelstnumber
%        \refstepcounter{lstnumber}
%    }
%}
%\makeatother
